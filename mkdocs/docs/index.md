# Autonym

Autonym is another framework built on top of Express to simplify building REST APIs for your resources. However, its
philosophy sets it apart from most other Node.js API frameworks.

It is extremely lightweight and written in ES6. By design, it eliminates the need to scaffold controllers in your API,
because they can be inferred automatically from your models. Models are just static classes with a few methods and in
many cases can just forward their arguments to an ORM. As a result, APIs built in Autonym require little coding but
still offer total control over each CRUD action for a resource, and are very easy to understand at a glance.

## Philosophy

* **It's just middleware.** Most frameworks take over your entire application, making it difficult to adjust an
  existing app to the new framework's setup. This also results in endless frustration when trying to do something the
  framework isn't designed to do. Autonym is just mounted like any other middleware, so you can add other middleware
  and handlers before or after Autonym to do whatever you want, the way you normally would.

* **No bloat.** Autonym follows the single responsibility principle and seeks to do just one thing well: map requests
  to CRUD actions. Following from the previous principle, if your server needs to serve static assets as well, just
  mount middleware beside Autonym for your other routes. If you authenticate with JWTs, mount your JWT middleware
  before Autonym.

* **Your API, your response.** Autonym makes a habit of never sending the response to the user directly. This allows
  you to intercept the response to make any adjustments. If you want to let Autonym handle the response, it exposes
  another middleware to mount after that will send the response.

* **Data validation is standardized.** Autonym validates JSON documents using the JSON schema spec. Since JSON
  schemas are JSON documents themselves, they can be exposed to API clients who can do pre-emptive validation on their
  end. For more comprehensive validation beyond JSON schemas, Autonym allows you to define validation and sanitization
  *policies* and map them to CRUD actions.

* **For better or for worse, database schemas are not document schemas.** In real life, there is rarely a perfect 1:1
  relationship between properties on the request body and column names in a table. Autonym doesn't attempt to unify
  data models -- in fact, it doesn't care about databases at all! However, data store implementations are free to
  define mapping functions to translate documents to queries.

* **It has no opinion about ORMs.** Many REST frameworks are tightly coupled to ORMs, but, like the previous point,
  we recognized that sometimes in the real world you fight ORMs more than you love them. Autonym lets you integrate
  them to whatever extent you want. Autonym just expects a model to implement five CRUD methods. Whether those methods
  forward the data to an ORM or just run some queries or ops directly is up to you.

* **Isolation for testability.** Each component of an Autonym app is designed to be unit testable: JSON schemas can
  be tested independently, policies are just simple JavaScript functions that can be imported directly, models are
  simple, isolated classes that never deal with request or response objects.

* **Embrace ES6.** Autonym app components are heavily class-based and Autonym and its sister projects are written
  with Babel. You can always write components with ES5, but Autonym is designed for modern apps. As a downside, it
  *does* require higher versions of Node.

## Drawbacks
It is important to point out some of the limitations of Autonym as well.

* Autonym has no intrinsic understanding of related resources. The API does not understand foreign references and
  will only return resource ids. This means that establishing relationships between models must be handled at the
  database layer or manually in the API layer. However, this eliminates some of the complexity with setting up and
  consuming an API with intricate routing, unintentionally costly joins, and recursive embedding.

* Autonym requires all resources to have a primary key that is named `id`. Composite primary keys or primary keys named
  something different are not currently supported.

* APIs generated by Autonym return data in a basic format but as of yet don't adhere to any strict standards. On the
  roadmap is potentially an extension for conforming to [JSON:API](http://jsonapi.org/).
